<script setup lang="ts">
import type { FormInstance } from 'element-plus';
import { ref } from 'vue';

const emit = defineEmits(['cancel', 'success'])
const refForm = ref<FormInstance>()
const form = ref({
    fileName: null
})
const rules = {
    fileName: [
        { required: true, message: 'ËØ∑ËæìÂÖ•Êñá‰ª∂Â§πÂêçÁß∞', trigger: 'blur' }
    ],
    password: [
        { required: true, message: 'ËØ∑ËæìÂÖ•ÂØÜÁ†Å', trigger: 'blur' }
    ]
}
const handleSubmit = async (formEl: FormInstance | undefined) => {
    if (!formEl) return
    await formEl.validate(valid => {
        if (valid) {
            console.log("üöÄ ~ file: LoginView.vue:11 ~ form:", form)

        }
    })
}
</script>
<template>
    <el-dialog width="30%" :close-on-click-modal="false" :close-on-press-escape="false">
        <template #header>
            <div class="text-lg font-bold">Ê∑ªÂä†Êñá‰ª∂Â§π</div>
        </template>
        <el-form ref="refForm" :model="form" :rules="rules" label-width="120px" status-icon>
            <el-form-item label="Êñá‰ª∂Â§πÂêçÁß∞" prop="fileName">
                <el-input v-model="form.fileName" />
            </el-form-item>
            <el-form-item label="ÂèØËßÅÊÄß" prop="fileName">
                <el-input v-model="form.fileName" />
            </el-form-item>
            <el-form-item label="ÂØÜÁ†Å‰øùÊä§" prop="fileName">
                <el-input v-model="form.fileName" />
            </el-form-item>
            <el-form-item label="ËÆæÁΩÆÂØÜÁ†Å" prop="fileName">
                <el-input v-model="form.fileName" />
            </el-form-item>
        </el-form>
        <template #footer>
            <span class="dialog-footer">
                <el-button @click="emit('cancel')">ÂèñÊ∂à</el-button>
                <el-button type="primary" @click="handleSubmit(refForm)">
                    Á°ÆËÆ§
                </el-button>
            </span>
        </template>
    </el-dialog>
</template>